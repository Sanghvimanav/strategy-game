<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Grid Game with Movement Restrictions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            height: 100vh;
            margin: 0;
            align-items: center;
            justify-content: center;
            background-color: #f0f0f0;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(5, 80px);
            grid-template-rows: repeat(5, 80px);
            gap: 5px;
            position: relative;
        }
        .tile {
            width: 80px;
            height: 80px;
            background-color: #fff;
            border: 2px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            position: relative;
            transition: background-color 0.3s;
        }
        .tile:hover {
            background-color: #e0e0e0;
        }
        .tile.valid-move {
            background-color: #d1e7dd !important;
            cursor: pointer;
        }
        .player {
            width: 60px;
            height: 60px;
            background-color: #4CAF50;
            border-radius: 50%;
            position: absolute;
            top: 10px;
            left: 10px;
            transition: top 0.5s, left 0.5s;
            z-index: 1;
        }
    </style>
</head>
<body>

<div class="grid-container" id="grid">
    <!-- Generate 25 tiles -->
    <!-- Tiles will be generated by JavaScript -->
</div>

<script>
    const gridSize = 5;
    const grid = document.getElementById('grid');

    // Initialize player position
    let playerPosition = { row: 0, col: 0 };

    // Create player element
    const player = document.createElement('div');
    player.classList.add('player');
    grid.appendChild(player);
    updatePlayerPosition();

    // Generate grid tiles
    const tiles = []; // To store tile elements for easy access

    for (let row = 0; row < gridSize; row++) {
        tiles[row] = [];
        for (let col = 0; col < gridSize; col++) {
            const tile = document.createElement('div');
            tile.classList.add('tile');
            tile.dataset.row = row;
            tile.dataset.col = col;
            tile.addEventListener('click', onTileClick);
            grid.appendChild(tile);
            tiles[row][col] = tile;
        }
    }

    // Highlight valid adjacent tiles
    highlightValidMoves();

    function onTileClick(event) {
        const tile = event.currentTarget;
        const row = parseInt(tile.dataset.row);
        const col = parseInt(tile.dataset.col);

        if (isAdjacent(row, col, playerPosition.row, playerPosition.col)) {
            playerPosition = { row, col };
            updatePlayerPosition();
            highlightValidMoves();
        } else {
            // Optionally, provide feedback for invalid move
            // For example, briefly shake the tile or display a message
            // Here, we'll just alert the user
            alert('Invalid move! Please select an adjacent tile.');
        }
    }

    function isAdjacent(targetRow, targetCol, currentRow, currentCol) {
        const rowDiff = Math.abs(targetRow - currentRow);
        const colDiff = Math.abs(targetCol - currentCol);
        return (rowDiff <= 1) && (colDiff <= 1) && !(rowDiff === 0 && colDiff === 0);
    }

    function updatePlayerPosition() {
        const top = playerPosition.row * 85; // 80px tile + 5px gap
        const left = playerPosition.col * 85;
        player.style.top = `${playerPosition.row * 85 + 10}px`;
        player.style.left = `${playerPosition.col * 85 + 10}px`;
    }

    function highlightValidMoves() {
        // First, remove all previous highlights
        tiles.forEach(row => {
            row.forEach(tile => {
                tile.classList.remove('valid-move');
            });
        });

        // Add highlights to adjacent tiles
        for (let row = playerPosition.row - 1; row <= playerPosition.row + 1; row++) {
            for (let col = playerPosition.col - 1; col <= playerPosition.col + 1; col++) {
                if (row >= 0 && row < gridSize && col >= 0 && col < gridSize) {
                    if (!(row === playerPosition.row && col === playerPosition.col)) {
                        tiles[row][col].classList.add('valid-move');
                    }
                }
            }
        }
    }
</script>

</body>
</html>
